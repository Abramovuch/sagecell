# Kickstart file automatically generated by anaconda.

#version=DEVEL
install
cdrom
lang en_US.UTF-8
keyboard us
network --onboot yes --device eth0 --bootproto dhcp --noipv6
#rootpw  --iscrypted #ROOTPW#
rootpw sage
firewall --service=ssh
authconfig --enableshadow --passalgo=sha512
selinux --enforcing
timezone US/Pacific
bootloader --location=mbr --driveorder=sda --append="crashkernel=auto rhgb quiet"
# The following is the partition information you requested
# Note that any partitions you deleted are not expressed
# here so unless you clear all partitions first, this is
# not guaranteed to work
clearpart --all --drives=sda

part /boot --fstype=ext4 --size=500
part pv.008002 --grow --size=1

volgroup vg_sagecell --pesize=4096 pv.008002
logvol / --fstype=ext4 --name=lv_root --vgname=vg_sagecell --grow --size=1024 --maxsize=51200
logvol swap --name=lv_swap --vgname=vg_sagecell --grow --size=4032 --maxsize=4032

repo --name="CentOS"  --baseurl=cdrom:sr0 --cost=100

%packages
@base
@console-internet
@core
@debugging
@directory-client
@hardware-monitoring
@java-platform
@large-systems
@network-file-system-client
@performance
@perl-runtime
@server-platform
@server-policy
@virtualization
@virtualization-client
@virtualization-platform
pax
oddjob
sgpio
device-mapper-persistent-data
samba-winbind
certmonger
pam_krb5
krb5-workstation
perl-DBD-SQLite

kernel-PAE
kernel-PAE-devel
kernel-headers
make
atlas
atlas-devel
gcc-gfortran
libgfortran
gcc-c++
dkms
openssl-devel
pango-devel
cairo-devel
readline-devel
dejavu-sans-fonts
dejavu-serif-fonts
dejavu-sans-mono-fonts
-NetworkManager
-NetworkManager-glib

%end

%post --log=/root/kickstart-post.log
#turn on services
/sbin/chkconfig --level=3 network on
/sbin/chkconfig --level=3 crond on
/sbin/chkconfig --level=3 sshd on

# turn off stuff thats not necessary
/sbin/chkconfig --level=3 NetworkManager off
/sbin/chkconfig --level=3 auditd off
/sbin/chkconfig --level=3 mdmonitor off
/sbin/chkconfig --level=3 netfs off
/sbin/chkconfig --level=3 nfslock off
/sbin/chkconfig --level=3 pcscd off
/sbin/chkconfig --level=3 rpcbind off
/sbin/chkconfig --level=3 rpcgssd off
/sbin/chkconfig --level=3 rpcidmapd off
/sbin/chkconfig --level=3 rsyslogd off
/sbin/chkconfig --level=3 sendmail off
/sbin/chkconfig --level=3 sssd off

%end
